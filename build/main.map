{"version":3,"sources":["webpack:///webpack/bootstrap 2babbcb15b45b6429945","webpack:///external \"apollo-server-express\"","webpack:///./src/connector/DB.js","webpack:///external \"sequelize\"","webpack:///./src/connector/models/Cookie_Model.js","webpack:///./src/index.js","webpack:///external \"express\"","webpack:///external \"dotenv\"","webpack:///./src/schema/schema.js","webpack:///./src/resolvers/index.js","webpack:///./src/resolvers/resolvers/Cookie.js","webpack:///./src/generateTabs.js"],"names":["DB","constructor","connect","DB_HOST","DB_DIALECT","DB_USERNAME","DB_PASSWORD","DB_PORT","DB_NAME","process","env","sequelize","Sequelize","host","dialect","port","pool","max","min","acquire","idle","operatorsAliases","require","config","Cookie_Model","define","name","STRING","hasChocolate","BOOLEAN","weight","timestamps","sync","server","ApolloServer","typeDefs","schema","resolvers","generateTabs","app","express","applyMiddleware","get","req","res","redirect","listen","console","log","graphqlPath","gql","Query","getCookie","Cookie","getCookies","Mutation","createCookie","updateCookie","deleteCookie","obj","id","context","info","findAll","where","e","args","create","rest","update","destroy","createTab","query","endpoint","IS_PROD","playground","tabs"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2babbcb15b45b6429945","module.exports = require(\"apollo-server-express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-server-express\"\n// module id = 0\n// module chunks = 0","import Sequelize from 'sequelize';\n\nclass DB {\n\n\t/*\n\t* TODO move this to a logical location\n\t* Since webpack moves all imports at the top of the file and there's no guarantee that dotenv will be run as first unless we init in the constructor of the DB class\n\t* */\n\tconstructor() {\n\t\trequire('dotenv').config();\n\t}\n\n\tconnect = () => {\n\t\tconst {\n\t\t\tDB_HOST,\n\t\t\tDB_DIALECT,\n\t\t\tDB_USERNAME,\n\t\t\tDB_PASSWORD,\n\t\t\tDB_PORT,\n\t\t\tDB_NAME,\n\t\t} = process.env;\n\t\tconst sequelize = new Sequelize(DB_NAME, DB_USERNAME, DB_PASSWORD, {\n\t\t\thost: DB_HOST,\n\t\t\tdialect: DB_DIALECT,\n\t\t\tport: DB_PORT,\n\t\t\tpool: {\n\t\t\t\tmax: 5,\n\t\t\t\tmin: 0,\n\t\t\t\tacquire: 30000,\n\t\t\t\tidle: 10000\n\t\t\t},\n\t\t\t// http://docs.sequelizejs.com/manual/tutorial/querying.html#operators\n\t\t\toperatorsAliases: false\n\t\t});\n\t\treturn sequelize;\n\t};\n}\n\nexport default (\n\tnew DB()\n)\n\t.connect();\n\n\n// WEBPACK FOOTER //\n// ./src/connector/DB.js","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 2\n// module chunks = 0","import sequelize from '../DB';\nimport Sequelize from 'sequelize';\n\nconst Cookie_Model = sequelize.define('cookie', {\n\tname: Sequelize.STRING,\n\thasChocolate: Sequelize.BOOLEAN,\n\tweight: Sequelize.STRING,\n}, {\n\ttimestamps: false,\n});\n\nexport default Cookie_Model;\n\n\n// WEBPACK FOOTER //\n// ./src/connector/models/Cookie_Model.js","// load .env file into process.env global\nimport express from 'express';\nimport {ApolloServer} from 'apollo-server-express';\n// init db singleton\nimport './connector/DB';\nimport Cookie_Model from \"./connector/models/Cookie_Model\";\nimport schema from './schema/schema';\nimport resolvers from './resolvers/index';\nimport generateTabs from \"./generateTabs\";\n\n(async() => {\n\t// Sync models to DB\n\tawait Cookie_Model.sync();\n\t///////\n\n\tconst server = new ApolloServer({\n\t\ttypeDefs: schema,\n\t\tresolvers: resolvers,\n\t\t...generateTabs(),\n\t});\n\n\tconst app = express();\n\t// app.get('/world', (req,res) => res.send('hi!!'));\n\tserver.applyMiddleware({app});\n\n\tapp.get('/', (req,res) => res.redirect('/graphql'));\n\n\tconst port = 9380;\n\tapp.listen(port, () => console.log(`Server ready at http://localhost:${port}${server.graphqlPath}`));\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 7\n// module chunks = 0","import { gql } from 'apollo-server-express';\n\nconst schema = gql`\t\n\ttype Cookie {\n\t\tid: ID!,\n\t\tname: String!,\n\t\thasChocolate: Boolean!,\n\t\tweight: Int,\n\t}\n\t\n\ttype Query {\n\t\tgetCookie(\n\t\t\tid: ID!\n\t\t): [Cookie]!,\n\t\tgetCookies: [Cookie]!,\n\t}\n\ttype Mutation {\n\t\tcreateCookie(\n\t\t\tname: String!, \n\t\t\thasChocolate: Boolean!, \n\t\t\tweight: Int\n\t\t): Boolean!,\n\t\tupdateCookie(\n\t\t\tid: ID!, \n\t\t\tname: String, \n\t\t\thasChocolate: Boolean, \n\t\t\tweight: Int\n\t\t): Boolean!,\n\t\tdeleteCookie(\n\t\t\tid: ID!\n\t\t): Boolean!,\n\t}\n`;\n\nexport default schema;\n\n\n// WEBPACK FOOTER //\n// ./src/schema/schema.js","import Cookie from './resolvers/Cookie';\n\nexport default {\n\tQuery: {\n\t\tgetCookie: Cookie.getCookie,\n\t\tgetCookies: Cookie.getCookies,\n\t},\n\n\tMutation: {\n\t\tcreateCookie: Cookie.createCookie,\n\t\tupdateCookie: Cookie.updateCookie,\n\t\tdeleteCookie: Cookie.deleteCookie,\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/resolvers/index.js","import Cookie_Model from \"../../connector/models/Cookie_Model\";\n\nclass Cookie {\n\n\tgetCookie = async (obj, {id}, context, info) => {\n\t\ttry {\n\t\t\treturn await Cookie_Model.findAll({\n\t\t\t\twhere: {\n\t\t\t\t\tid,\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn [];\n\t\t}\n\t};\n\n\tgetCookies = async (obj, args, context, info) => {\n\t\ttry {\n\t\t\treturn await Cookie_Model.findAll();\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn [];\n\t\t}\n\t};\n\n\tcreateCookie = async (obj, args, context, info) => {\n\t\ttry {\n\t\t\tawait Cookie_Model.create({\n\t\t\t\t...args\n\t\t\t})\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tupdateCookie = async (obj, {id, ...rest}, context, info) => {\n\t\ttry {\n\t\t\tawait Cookie_Model.update({\n\t\t\t\t...rest\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\twhere: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tdeleteCookie = async (obj, {id}, context, info) => {\n\t\ttry {\n\t\t\tawait Cookie_Model.destroy({\n\t\t\t\twhere: {\n\t\t\t\t\tid,\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n}\n\nexport default new Cookie();\n\n\n\n// WEBPACK FOOTER //\n// ./src/resolvers/resolvers/Cookie.js","export default () => {\n\n\tconst createTab = (query, name) => ({\n\t\tendpoint: process.env.IS_PROD ? 'https://cookieapp-graphql.thomas.zwarts.codes/graphql' : 'http://localhost:9380/graphql',\n\t\tquery,\n\t\tname,\n\t});\n\n\tlet obj = {};\n\tif (!!process.env.IS_PROD) {\n\t\tobj = {\n\t\t\tplayground: {\n\t\t\t\ttabs: [\n\t\t\t\t\tcreateTab(`query {\n  getCookie(id: 1) {\n    name,\n    weight,\n    hasChocolate,\n  }\n}\t\t\t\t\t\n\t\t\t\t\t`, 'getCookie'),\n\t\t\t\t\tcreateTab(`query {\n  getCookies {\n \t\tid,\n    name,\n    hasChocolate,\n    weight,\n  }\n}`, 'getCookies'),\n\t\t\t\t\tcreateTab(`mutation {\n  createCookie(name: \"Stroopwafel\", hasChocolate: false)\n}`, 'createCookie'),\n\t\t\t\t\tcreateTab(`mutation {\n  updateCookie(id: 2, name: \"Verse stroopwafel\", weight: 75)\n}`, 'updateCookie'),\n\t\t\t\t\tcreateTab(`mutation {\n  deleteCookie(id: 2)\n}`, 'deleteCookie')\n\t\t\t\t]\n\t\t\t}\n\t\t}\n\t}\n\treturn obj;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/generateTabs.js"],"sourceRoot":""}